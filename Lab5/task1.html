        class Wheel {
            constructor(x, y) {
                this.height = 20;
                this.width = 20;
                this.color = 'black';
                this.x = x;
                this.y = y;
            }

            drawWheel() {
                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        class Car {
            constructor() {
                this.height = 100;
                this.width = 50;
                this.color = 'red';
                this.x = 400;
                this.y = 400;
                this.wheels = [new Wheel(390, 400), new Wheel(440, 400), new Wheel(390, 480), new Wheel(440, 480)];
            }

            drawCar() {
                this.wheels.forEach(wheel => {
                    wheel.drawWheel();
                });

                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }

            move(x) {
                this.wheels.forEach(wheel => {
                    wheel.x += x;
                });

                this.x += x;
            }
        }

        class Road {
            constructor() {
                this.height = 600;
                this.width = 500;
                this.color = 'grey';
                this.x = 150;
                this.y = 0;
            }

            drawRoad() {
                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        class Strip {
            constructor(y) {
                this.height = 50;
                this.width = 10;
                this.color = 'white';
                this.x = 405;
                this.y = y;
            }

            drawStrip() {
                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        class SideStrip {
            constructor(x, y, color) {
                this.height = 25;
                this.width = 25;
                this.color = color;
                this.value = 0;
                this.x = x;
                this.y = y;
                this.flag = true;
            }

            drawSideStrip() {
                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        class Point {
            constructor() {
                this.radius = 10;
                this.x = Math.floor(Math.random() * (maxX - minX + 1)) + minX;
                this.y = Math.floor(Math.random() * (maxY - minY + 1)) + minY;
                this.color = 'green';
            }

            drawPoint() {
                context.beginPath();
                context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
                context.fillStyle = this.color;
                context.fill();
            }
        }

        class Obstacle {
            constructor() {
                this.height = 50;
                this.width = 50;
                this.x = Math.floor(Math.random() * (maxX - minX + 1)) + minX;
                this.y = Math.floor(Math.random() * (maxY - minY + 1)) + minY;
                this.color = 'black';
            }

            drawObstacle() {
                context.beginPath();
                context.fillStyle = this.color;
                context.fillRect(this.x, this.y, this.width, this.height);
            }
        }

        class Bullet {
            constructor(bulletX, bulletY) {
                this.radius = 5;
                this.x = bulletX;
                this.y = bulletY;
                this.color = 'yellow';
            }

            drawBullet() {
                context.beginPath();
                context.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, false);
                context.fillStyle = this.color;
                context.fill();
            }
        }

        // Game objects
        let car = new Car();
        let road = new Road();
        let stripes = [new Strip(-100), new Strip(0), new Strip(100), new Strip(200), new Strip(300), new Strip(400), new Strip(500)];
        let leftSideStripes = [];
        let rightSideStripes = []
        let points = [];
        let obstacles = [];
        let bullets = [];

        // validation
        let firstStrip = -100;
        let secondStrip = 0;
        let firstSideStrip = -100;
        let secondSideStrip = 0;

        let maxObstacles = 2;
        let maxPoints = 3;

        let animation = true;
        let speedX = 0;
        let roadSpeed = 0;

        window.onload = init;

        var keyPressed = {};
        document.addEventListener('keydown', function (e) {
            keyPressed[e.keyCode] = true;

            if (keyPressed.Shift1 == true && keyPressed.Control1 == true) {
                // Left shift+CONTROL pressed!
                keyPressed = {}; // reset key map
            }
            if (keyPressed.Shift2 == true && keyPressed.Control2 == true) {
                // Right shift+CONTROL pressed!
                keyPressed = {};
            }

        }, false);

        document.addEventListener('keyup', function (e) {
            keyPressed[e.keyCode] = false;
            //keyPressed = {};
        }, false);

        function init() {
            canvas = document.querySelector('#myCanvas');
            context = canvas.getContext('2d');

            initSideStripes()

            requestAnimationFrame(animate);
            var a = setInterval(spawnPoint, 3000);
            var b = setInterval(spawnObstacle, 4000);
        }

        function spawnPoint() {
            if (points.length < maxPoints) {
                points.push(new Point());
            }
        }

        function spawnObstacle() {
            if (obstacles.length < maxObstacles) {
                obstacles.push(new Obstacle());
            }
        }
